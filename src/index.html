<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title> V Chess Board </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" href="/">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@300&Fredoka:wght@300&family=Poppins:wght@300&display=swap" rel="stylesheet">

    <style>
body, input {
  padding: 0;
  margin: 0;
  font-family: 'DM Mono', monospace;
}

#app {
  margin: auto;
  display: flex;
  justify-content: center;
  position: relative;
  width: min(100vw, 100vh);
  aspect-ratio: 1/1;
}
    </style>
  </head>
  <body>
    <div id='app' class='is2d'></div>
    <script>

      document.addEventListener("DOMContentLoaded", () => {
              let api = VChessboard(document.getElementById('app'), {})

              let files = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
              let pawns = files.flatMap(file => [`bk@${file}8`, `bp@${file}7~`])


              //api.instant_track = 'e4@6.5-0.5'
              api.pieses = ['br@a3', 'br@a2', 'wr@a1']


              function step(arr) {

                      let res = arr.pop()
                      if (!res) {
                              return
                            }

                      setTimeout(() => {
                              api.pieses = res
                              step(arr)
                            }, 100)
                    }

              let ors = ['w', 'b']
              let i = 0

              /*
              setInterval(() => {
                      i++
                      api.orientation = ors[i % ors.length]
                    }, 500)
                     */

              /*
              setTimeout(() => {
                  api.orientation = 'b'
                  api.pieses = ['wb@c2', 'wb@d3~']
                setTimeout(() => {
                  //api.pieses = ['wb@c2', 'wb@d3']
                }, 2000)
               }, 1000)
     */
        api.squares = ['dark white@b1', 'black@c3', 'orange@h8', 'black@c3', 'black@c3', 'black@c3', 'orange@c3', 'orange@h8']
      })
    </script>
  </body>
</html>
